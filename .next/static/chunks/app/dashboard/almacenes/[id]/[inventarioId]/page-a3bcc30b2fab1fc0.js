(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"notFound")&&a.d(t,{notFound:function(){return s.notFound}}),a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},26759:(e,t,a)=>{Promise.resolve().then(a.bind(a,80139))},35626:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},67455:(e,t,a)=>{"use strict";a.d(t,{Q:()=>r,R:()=>s});let s=[{codigo:"OC-2025-001",producto:'Tornillo 1/4"',cliente:"Constructora XYZ",cantidad:5e3,status:"Aceptado"},{codigo:"OC-2025-002",producto:"Placa de Acero 2mm",cliente:"Industrias GAMA",cantidad:150,status:"En Camino"},{codigo:"OC-2025-003",producto:"Viga de Aluminio",cliente:"Arquitectura Delta",cantidad:50,status:"Pendiente"},{codigo:"OC-2025-004",producto:"Aceite Lubricante",cliente:"Taller Central",cantidad:20,status:"En proceso de preparar"},{codigo:"OC-2025-005",producto:'Tornillo 1/2"',cliente:"Constructora XYZ",cantidad:1e3,status:"Rechazado"}],r=[{id:"ALM-001",nombre:"Almac\xe9n Central",ubicacion:"Nave Principal, Sector A",descripcion:"Almac\xe9n de productos de alta rotaci\xf3n.",inventarios:[{id:"INV-01",nombre:"Torniller\xeda",descripcion:"Tornillos y tuercas de varias medidas",productos:[{id:"PROD-001",nombre:'Tornillo 1/4"',cantidad:8500,precioUnitario:1.5,peso:5,unidadPeso:"g"},{id:"PROD-004",nombre:'Tuerca 1/4"',cantidad:8500,precioUnitario:.5,peso:2,unidadPeso:"g"}]},{id:"INV-02",nombre:"Placas Met\xe1licas",descripcion:"Placas de acero y aluminio",productos:[{id:"PROD-002",nombre:"Placa de Acero",cantidad:300,precioUnitario:120,peso:2.5,unidadPeso:"kg"}]}]},{id:"ALM-002",nombre:"Bodega de Materia Prima",ubicacion:"Edificio B, Planta Baja",descripcion:"Materiales para producci\xf3n.",inventarios:[{id:"INV-03",nombre:"Materia Prima Pesada",descripcion:"Rollos de metal y otros materiales base.",productos:[{id:"PROD-003",nombre:"Rollo de Aluminio",cantidad:50,precioUnitario:3200,peso:15,unidadPeso:"kg"}]}]}]},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(12115);let r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:a,strokeWidth:o?24*Number(d)/Number(n):d,className:r("lucide",l),...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{className:d,...o}=a;return(0,s.createElement)(n,{ref:i,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),d),...o})});return a.displayName="".concat(e),a}},80139:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(95155),r=a(12115),i=a(20063),n=a(86942),d=a(35626),o=a(6191),l=a(52619),c=a.n(l);function u(e){let{inventario:t}=e;return(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,s.jsx)("thead",{className:"bg-slate-50 text-xs uppercase text-slate-700 dark:bg-slate-700 dark:text-slate-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Nombre del Producto"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Cantidad"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Precio Unitario"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Peso"})]})}),(0,s.jsx)("tbody",{children:0===t.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"py-8 text-center text-slate-500",children:"No hay productos en este inventario."})}):t.map(e=>(0,s.jsxs)("tr",{className:"border-b dark:border-slate-700",children:[(0,s.jsx)("td",{className:"px-6 py-4 font-mono text-xs",children:e.id}),(0,s.jsx)("td",{className:"px-6 py-4 font-medium",children:e.nombre}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.cantidad}),(0,s.jsxs)("td",{className:"px-6 py-4",children:["$",e.precioUnitario.toFixed(2)]}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[e.peso," ",e.unidadPeso]})]},e.id))})]})})}function m(e){let{isOpen:t,onClose:a,onSave:i}=e,[n,d]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[x,h]=(0,r.useState)("kg");return((0,r.useEffect)(()=>{t||(d(""),l(""),u(""),p(""),h("kg"))},[t]),t)?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:a,children:(0,s.jsxs)("div",{className:"relative w-full max-w-lg rounded-xl bg-white p-6 shadow-xl dark:bg-slate-800",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Agregar Nuevo Producto"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({nombre:n,cantidad:parseInt(o)||0,precioUnitario:parseFloat(c)||0,peso:parseFloat(m)||0,unidadPeso:x}),a()},className:"mt-6 grid grid-cols-2 gap-x-4 gap-y-5",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{htmlFor:"prod-nombre",className:"block text-sm font-medium",children:"Nombre del Producto"}),(0,s.jsx)("input",{id:"prod-nombre",type:"text",value:n,onChange:e=>d(e.target.value),required:!0,className:"mt-1 w-full rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"prod-cantidad",className:"block text-sm font-medium",children:"Cantidad"}),(0,s.jsx)("input",{id:"prod-cantidad",type:"number",value:o,onChange:e=>l(e.target.value),required:!0,className:"mt-1 w-full rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"prod-precio",className:"block text-sm font-medium",children:"Precio Unitario"}),(0,s.jsx)("input",{id:"prod-precio",type:"number",step:"0.01",value:c,onChange:e=>u(e.target.value),required:!0,className:"mt-1 w-full rounded-lg"})]}),(0,s.jsxs)("div",{className:"col-span-2 grid grid-cols-3 gap-2",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{htmlFor:"prod-peso",className:"block text-sm font-medium",children:"Peso"}),(0,s.jsx)("input",{id:"prod-peso",type:"number",step:"0.01",value:m,onChange:e=>p(e.target.value),required:!0,className:"mt-1 w-full rounded-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"prod-unidad",className:"block text-sm font-medium",children:"Unidad"}),(0,s.jsxs)("select",{id:"prod-unidad",value:x,onChange:e=>h(e.target.value),className:"mt-1 w-full rounded-lg",children:[(0,s.jsx)("option",{value:"kg",children:"kg"}),(0,s.jsx)("option",{value:"g",children:"g"})]})]})]}),(0,s.jsxs)("div",{className:"col-span-2 flex justify-end gap-4 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"rounded-lg border px-4 py-2 text-sm font-medium",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white",children:"Guardar Producto"})]})]})]})}):null}function p(){let e=(0,i.useParams)(),t=e.id,a=e.inventarioId,[l,p]=(0,r.useState)(void 0),[x,h]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{p((0,n.YD)(t,a))},[t,a]),void 0===l)?(0,s.jsx)("div",{children:"Cargando..."}):(null===l&&(0,i.notFound)(),(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(c(),{href:"/dashboard/almacenes/".concat(t),className:"mb-4 inline-flex items-center gap-2 text-sm text-slate-500 hover:text-indigo-600",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"})," Volver al Almac\xe9n"]}),(0,s.jsx)("h1",{className:"text-4xl font-bold",children:l.nombre}),(0,s.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:l.descripcion})]}),(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-6 shadow-sm dark:bg-slate-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Productos en Inventario"}),(0,s.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700",children:[(0,s.jsx)(o.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Agregar Producto"})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(u,{inventario:l.productos})})]}),(0,s.jsx)(m,{isOpen:x,onClose:()=>h(!1),onSave:e=>{(0,n.Q_)(t,a,e),p({...(0,n.YD)(t,a)})}})]}))}},86942:(e,t,a)=>{"use strict";a.d(t,{H1:()=>d,I2:()=>r,NF:()=>n,Q_:()=>c,Sr:()=>i,YD:()=>o,ly:()=>l});let s=JSON.parse(JSON.stringify(a(67455).Q)),r=()=>s,i=e=>s.find(t=>t.id===e),n=(e,t)=>{if(t)s=s.map(a=>a.id===t?{...a,...e}:a);else{let t={id:"ALM-".concat(String(Date.now()).slice(-4)),...e,inventarios:[]};s.push(t)}},d=e=>{s=s.filter(t=>t.id!==e)},o=(e,t)=>{let a=i(e);return null==a?void 0:a.inventarios.find(e=>e.id===t)},l=(e,t)=>{let a=s.find(t=>t.id===e);if(a&&a.inventarios.length<10){let e={id:"INV-".concat(String(Date.now()).slice(-3)),...t,productos:[]};a.inventarios.push(e)}},c=(e,t,a)=>{let s=o(e,t);if(s){let e={id:"PROD-".concat(String(Date.now()).slice(-4)),...a};s.productos.push(e)}}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=26759)),_N_E=e.O()}]);
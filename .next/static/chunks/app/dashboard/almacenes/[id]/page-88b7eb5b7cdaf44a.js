(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},13893:(e,t,a)=>{Promise.resolve().then(a.bind(a,46860))},20063:(e,t,a)=>{"use strict";var r=a(47260);a.o(r,"notFound")&&a.d(t,{notFound:function(){return r.notFound}}),a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},35626:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},46860:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(95155),i=a(12115),s=a(20063),n=a(86942),o=a(35626),d=a(6191),l=a(52619),c=a.n(l);let u=(0,a(71847).A)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);function m(e){let{almacenId:t,inventario:a}=e;return(0,r.jsx)(c(),{href:"/dashboard/almacenes/".concat(t,"/").concat(a.id),legacyBehavior:!0,children:(0,r.jsxs)("a",{className:"group block rounded-xl border bg-white p-6 shadow-sm transition-all hover:border-indigo-500 hover:shadow-md dark:border-slate-700 dark:bg-slate-800",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(u,{className:"h-6 w-6 text-indigo-500"}),(0,r.jsx)("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a.nombre})]}),(0,r.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:a.descripcion}),(0,r.jsxs)("p",{className:"mt-4 text-right text-sm font-semibold text-indigo-600",children:[a.productos.length," Productos"]})]})})}function h(e){let{isOpen:t,onClose:a,onSave:s}=e,[n,o]=(0,i.useState)(""),[d,l]=(0,i.useState)("");return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:a,children:(0,r.jsxs)("div",{className:"relative w-full max-w-lg rounded-xl bg-white p-6 shadow-xl dark:bg-slate-800",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Crear Nuevo Inventario"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s({nombre:n,descripcion:d}),a()},className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Nombre del Inventario"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),required:!0,className:"mt-1 w-full rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Descripci\xf3n"}),(0,r.jsx)("textarea",{value:d,onChange:e=>l(e.target.value),required:!0,className:"mt-1 w-full rounded-lg",rows:3})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"rounded-lg border px-4 py-2",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-4 py-2 text-white",children:"Crear Inventario"})]})]})]})}):null}function p(){let e=(0,s.useParams)().id,[t,a]=(0,i.useState)(void 0),[l,u]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{a((0,n.Sr)(e))},[e]),void 0===t)return(0,r.jsx)("div",{children:"Cargando..."});null===t&&(0,s.notFound)();let p=t.inventarios.length<10;return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(c(),{href:"/dashboard/almacenes",className:"mb-4 inline-flex items-center gap-2 text-sm text-slate-500 hover:text-indigo-600",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"})," Volver a Almacenes"]}),(0,r.jsx)("h1",{className:"text-4xl font-bold",children:t.nombre}),(0,r.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:t.ubicacion})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Inventarios"}),(0,r.jsxs)("button",{onClick:()=>u(!0),disabled:!p,className:"flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 disabled:cursor-not-allowed disabled:bg-slate-400",children:[(0,r.jsx)(d.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Crear Inventario"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.inventarios.map(e=>(0,r.jsx)(m,{almacenId:t.id,inventario:e},e.id))}),(0,r.jsx)(h,{isOpen:l,onClose:()=>u(!1),onSave:t=>{(0,n.ly)(e,t),a({...(0,n.Sr)(e)})}})]})}},67455:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i,R:()=>r});let r=[{codigo:"OC-2025-001",producto:'Tornillo 1/4"',cliente:"Constructora XYZ",cantidad:5e3,status:"Aceptado"},{codigo:"OC-2025-002",producto:"Placa de Acero 2mm",cliente:"Industrias GAMA",cantidad:150,status:"En Camino"},{codigo:"OC-2025-003",producto:"Viga de Aluminio",cliente:"Arquitectura Delta",cantidad:50,status:"Pendiente"},{codigo:"OC-2025-004",producto:"Aceite Lubricante",cliente:"Taller Central",cantidad:20,status:"En proceso de preparar"},{codigo:"OC-2025-005",producto:'Tornillo 1/2"',cliente:"Constructora XYZ",cantidad:1e3,status:"Rechazado"}],i=[{id:"ALM-001",nombre:"Almac\xe9n Central",ubicacion:"Nave Principal, Sector A",descripcion:"Almac\xe9n de productos de alta rotaci\xf3n.",inventarios:[{id:"INV-01",nombre:"Torniller\xeda",descripcion:"Tornillos y tuercas de varias medidas",productos:[{id:"PROD-001",nombre:'Tornillo 1/4"',cantidad:8500,precioUnitario:1.5,peso:5,unidadPeso:"g"},{id:"PROD-004",nombre:'Tuerca 1/4"',cantidad:8500,precioUnitario:.5,peso:2,unidadPeso:"g"}]},{id:"INV-02",nombre:"Placas Met\xe1licas",descripcion:"Placas de acero y aluminio",productos:[{id:"PROD-002",nombre:"Placa de Acero",cantidad:300,precioUnitario:120,peso:2.5,unidadPeso:"kg"}]}]},{id:"ALM-002",nombre:"Bodega de Materia Prima",ubicacion:"Edificio B, Planta Baja",descripcion:"Materiales para producci\xf3n.",inventarios:[{id:"INV-03",nombre:"Materia Prima Pesada",descripcion:"Rollos de metal y otros materiales base.",productos:[{id:"PROD-003",nombre:"Rollo de Aluminio",cantidad:50,precioUnitario:3200,peso:15,unidadPeso:"kg"}]}]}]},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(12115);let i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:l="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...s,width:n,height:n,stroke:a,strokeWidth:d?24*Number(o)/Number(n):o,className:i("lucide",l),...m},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let a=(0,r.forwardRef)((a,s)=>{let{className:o,...d}=a;return(0,r.createElement)(n,{ref:s,iconNode:t,className:i("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...d})});return a.displayName="".concat(e),a}},86942:(e,t,a)=>{"use strict";a.d(t,{H1:()=>o,I2:()=>i,NF:()=>n,Q_:()=>c,Sr:()=>s,YD:()=>d,ly:()=>l});let r=JSON.parse(JSON.stringify(a(67455).Q)),i=()=>r,s=e=>r.find(t=>t.id===e),n=(e,t)=>{if(t)r=r.map(a=>a.id===t?{...a,...e}:a);else{let t={id:"ALM-".concat(String(Date.now()).slice(-4)),...e,inventarios:[]};r.push(t)}},o=e=>{r=r.filter(t=>t.id!==e)},d=(e,t)=>{let a=s(e);return null==a?void 0:a.inventarios.find(e=>e.id===t)},l=(e,t)=>{let a=r.find(t=>t.id===e);if(a&&a.inventarios.length<10){let e={id:"INV-".concat(String(Date.now()).slice(-3)),...t,productos:[]};a.inventarios.push(e)}},c=(e,t,a)=>{let r=d(e,t);if(r){let e={id:"PROD-".concat(String(Date.now()).slice(-4)),...a};r.productos.push(e)}}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=13893)),_N_E=e.O()}]);